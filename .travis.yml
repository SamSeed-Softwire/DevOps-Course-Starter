services:
- docker

script:
- echo $DOCKER_TOKEN | docker login --username $DOCKER_USERNAME --password-stdin
- docker build --target test --tag todo-app-test .
# Run tests.
- docker run todo-app-test tests_unit
- docker run todo-app-test tests_integration

env:
  global:

  ### Trello ####
  # AUTH_PARAMS_KEY
  - secure: MHMsfpY94GDB9tX2W93h3KFzsoWJDEH3S3VtemwBmlzaJYD3W5ODSCCPC4YgvC+dlx7QneUmo4TiFZ9637SfYbC1UqbENfo0uaXP680x7sfhdpzExE9y9GogrDBjBwaNMjwXnHgTbHRb5E6Gl3FPq9StHVHzxOEW6QC8oFZpcXVYv0WEldxvA3M0mclCK4pBASMeTqVofoGg3pIi9uJlQP2zmnR/BlrtFaeNQdJVMROvq9np4LX7Vblm7r3JRHmyvOhRzp9yn1PKaTolFJ2ws4wDLnog6+wZoOHllEFHifDkFWdg5tc/lzzLl1ocksB7Yy5kLVVsN+/L5ZIZ1Yw+3EyOvD4wHRuLhw6Ih/SCu9YjcSoJyBCe41vCvU0Ijv8HY9M3Jas3cAGbEwEHZrFtuaHwE4HdoJU20IEiLiTC7UnpnwyMYqc2ubp5O2O6Vap+sQ0SnXUwkoRXZtWqW4G3EPtTWzHEQ9HJLSoomNFU7JOzF0bZOrO31uKv1za+RRUMYQTq/gFwMW1kZw7mr1a40TbIdNWpWNWMKTfkwqT3jQmu4dv+IAlTIjMOtbYDK6u+P/ziCdQnA+AcpljAer4SYgvFzqt2Gknjuq8y2V+Kf5XMukSmt/I2/PMJXis/wzAzrDAixdjQy9GYq48RTkpw2TRLz9OGoMtIXKcVk9lJOd4=
  # AUTH_PARAMS_TOKEN
  - secure: nD0hsBK1Ab/G3tZS8bnhQigOvidOQphMUC+GDth9KnsxdcRAnEBnkuRxMt6G7nkJwcvX57gxVLf4na6cApUeT68FIalbLfUvvvSB9Z3ZVzJuCBiWs3cMWkJFIW9pQDNOqimFEZEbllyI5lfIvjq/9/TehhFFa5iP7RB1RV7BfAiFz0dyHbQ3EyKYFBti/I+cGCWucihV3w28aiOxx9SOzym4imtFYQwwq6h4PZnSjIKbQJkqNUG+na3qc6vAMeLnhrkgmVmeata1NwPjWHgNSJdwy6wc5wmlgE9KcmqThrvbA8vviUl/yAqAAiyqiRHc6SeJgz6gll+6Di/3ycW+bhP2WKKPMaRFnPBsgeSopMhEzADYjJxcyok43PQQRyDw3D2Sw5H/IjQnQviNEZ0wrMYWDDT/QHtsxuUw68nmGf9FBD8alM6+lfs9ZO8jNL73n75V2BGIlQ87yR4c65H+PeYKISG6W3SCHmHEoxA7nykGl5E1Mt6YKgLuDYU+ePlLY1fDoA6LNFgpHkK7eBmQ9S8WQvCr7C5PQ8JBQge5uzDPsRbV1LqMCxWrqI0HgYfFQqlSuJLoBKcCsD7feDkgV0jn3x0ojguWr+p1Et68+yWSQgpLVt9j94ZeZaJI+L+DmbUidJWa7+xpjGgJhDMcb5JBqnB9qnOVdigdrYuc2fQ=
  # BOARD_ID
  - secure: PFU0UJnEq19GkJ1admGAkbuh3dwy4aUBb2713830F8WheWU8umXVBYU3xM3C8tsv1yKRkVO09WVH9DXYBTsC3138cr6nTSiH0YGldsH70mAZhTPGG9W19wbdsXoTOwQsKwuT3lN7F4/ISHHVhXlq/JfVvnQWEe/1NOW0z08ACJVINxLBz1E2eGfSedy90SwnGZeOM89BuSkt9qV/bxEuWqRoRLnNelgqxVD4lIbl1C231+Y+oaLcj49JpS8fN4BxASRbcPczJ8107AlN8Ir9qbCAE9p+DrTCIZtFdvwFVhLb3PqE+RV6YuSljwsGyeUScPCGmDlrOdSxeZ3Vdu2xA+6AZ84VGh/eOqFBf7KJs9GpLa2hhWbZPiJAFkCUe6K7flHVCOYUKYVfuqEH56kaiWuwp6tKLtGObw5/6Y6Li46zHuaMeNtfIc/NPu1oZaz+22T3t+gFBRU9zI03NndaNguqpvnxFKu/Dn8jkfbnqDmcxH1j0UhDqcxCZg6V0V7/S1/FBSi01DoJAaCEJU4DAWZ7icWQtyQ8BQZqITRMbQujvlT++Y58Qa04o/f4sn2uS99DaPmNWnSU7KQQGz1g87y/tS+GRgalKT86QtyGkH2WvuHf+3aC0XJ2WOeYeYQujKzzKXuvY63OIFGuyj1TZBUlzBj8ON1KWh4mv/8DTjw=

  ### Docker ###
  # DOCKER_USERNAME
  - DOCKER_USERNAME=samseedsoftwire
  # DOCKER_TOKEN
  - secure: VVzh0KXvMO0fxNMfe8tyCyvVIg9U1KUnQZEjhMU9z8VYpcthCgyyBDGbg1Q5gZ7hyh4Zzjs7hfe/SGyfvcamzGNvAWIebqKj7OmYV9odDNBk0go+ksgbiTohXGCpomh0Rb7+oo9o4UznxIv7wLwt57utV/G4hSrhln62fg4OyO2f9wjLiolo6BqskpcCsimRkER4idhrGfN8d0irGIb87UFVqrWHbGarpySOyUhWhba/XRBvu4Xt1Tew4SWZF6sQ6ruRWxaeFqVyfE/OTPidctfqYlQT/68IU4oyGMwP/Ym5LjL+Y7DhDZHRhbaXSlgPDy8qsQRVqKfuM0ZoQsHle60xpqJI2wKzpeTmUspb/SLwH4HZaqxmPvp7NZ8QrNKcshXC1yD2SSEqYZdhf1oEmR2tWjzwUez51tmO/5V5Et7VVhMz+Gom5A6WhskLPCzYeg0RWrGtpOxfc5QlHh/cMmZDfhicrI7WSU1KppdiKxBW1Djpy+IiQnzVgShe5Np+vtYK5W+2bhPS73YUYUVbbYh64bQRWjwAx9ePbJnwPikCcIWgECRWJVmHNRQOEAjCaldaY85qt7BQxdveeF6fq8gCkI5DNx0bynLoXhGrinQsWRs/dRPt5u03K4emafzvCV1mIzLcH0jistfxCfmMvupnvcbAi8CpuFpWBPM9LUU=

  ### Flask ###
  - FLASK_APP=./application/app
  - FLASK_ENV=development